/* Database.c generated by valac 0.28.1, the Vala compiler
 * generated from Database.vala, do not modify */

/* Copyright 2015 Sam Thomas
*
* This file is part of Keep.
*
* Keep is free software: you can redistribute it
* and/or modify it under the terms of the GNU General Public License as
* published by the Free Software Foundation, either version 3 of the
* License, or (at your option) any later version.
*
* Keep is distributed in the hope that it will be
* useful, but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General
* Public License for more details.
*
* You should have received a copy of the GNU General Public License along
* with Keep. If not, see http://www.gnu.org/licenses/.
*/

#include <glib.h>
#include <glib-object.h>
#include <stdlib.h>
#include <string.h>
#include <gtksourceview/gtksource.h>
#include <sqlite3.h>
#include <gtk/gtk.h>
#include <gdk/gdk.h>
#include <gobject/gvaluecollector.h>


#define KEEP_CORE_TYPE_DATABASE (keep_core_database_get_type ())
#define KEEP_CORE_DATABASE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), KEEP_CORE_TYPE_DATABASE, KeepCoreDatabase))
#define KEEP_CORE_DATABASE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), KEEP_CORE_TYPE_DATABASE, KeepCoreDatabaseClass))
#define KEEP_CORE_IS_DATABASE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), KEEP_CORE_TYPE_DATABASE))
#define KEEP_CORE_IS_DATABASE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), KEEP_CORE_TYPE_DATABASE))
#define KEEP_CORE_DATABASE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), KEEP_CORE_TYPE_DATABASE, KeepCoreDatabaseClass))

typedef struct _KeepCoreDatabase KeepCoreDatabase;
typedef struct _KeepCoreDatabaseClass KeepCoreDatabaseClass;
typedef struct _KeepCoreDatabasePrivate KeepCoreDatabasePrivate;
#define _g_free0(var) (var = (g_free (var), NULL))

#define KEEP_CORE_TYPE_NOTE (keep_core_note_get_type ())
#define KEEP_CORE_NOTE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), KEEP_CORE_TYPE_NOTE, KeepCoreNote))
#define KEEP_CORE_NOTE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), KEEP_CORE_TYPE_NOTE, KeepCoreNoteClass))
#define KEEP_CORE_IS_NOTE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), KEEP_CORE_TYPE_NOTE))
#define KEEP_CORE_IS_NOTE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), KEEP_CORE_TYPE_NOTE))
#define KEEP_CORE_NOTE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), KEEP_CORE_TYPE_NOTE, KeepCoreNoteClass))

typedef struct _KeepCoreNote KeepCoreNote;
typedef struct _KeepCoreNoteClass KeepCoreNoteClass;
#define _sqlite3_close0(var) ((var == NULL) ? NULL : (var = (sqlite3_close (var), NULL)))
#define _sqlite3_finalize0(var) ((var == NULL) ? NULL : (var = (sqlite3_finalize (var), NULL)))
typedef struct _KeepCoreNotePrivate KeepCoreNotePrivate;
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
typedef struct _KeepCoreParamSpecDatabase KeepCoreParamSpecDatabase;
#define _vala_assert(expr, msg) if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);
#define _vala_return_if_fail(expr, msg) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return; }
#define _vala_return_val_if_fail(expr, msg, val) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return val; }
#define _vala_warn_if_fail(expr, msg) if G_LIKELY (expr) ; else g_warn_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);

struct _KeepCoreDatabase {
	GTypeInstance parent_instance;
	volatile int ref_count;
	KeepCoreDatabasePrivate * priv;
};

struct _KeepCoreDatabaseClass {
	GTypeClass parent_class;
	void (*finalize) (KeepCoreDatabase *self);
};

struct _KeepCoreDatabasePrivate {
	gchar* _db_path;
	gint err;
	gchar* errmsg;
};

struct _KeepCoreNote {
	GtkSourceBuffer parent_instance;
	KeepCoreNotePrivate * priv;
	gchar* title;
	gchar* summary;
	GdkAtom format;
	GdkAtom deformat;
	GtkTextTagTable* tagtable;
};

struct _KeepCoreNoteClass {
	GtkSourceBufferClass parent_class;
};

struct _KeepCoreParamSpecDatabase {
	GParamSpec parent_instance;
};


static gpointer keep_core_database_parent_class = NULL;
static gchar* keep_core_database_NEW_DATABASE;
static gchar* keep_core_database_NEW_DATABASE = NULL;
static gchar* keep_core_database_INSERT_NEW;
static gchar* keep_core_database_INSERT_NEW = NULL;
static gchar* keep_core_database_RESET_DATABASE;
static gchar* keep_core_database_RESET_DATABASE = NULL;

gpointer keep_core_database_ref (gpointer instance);
void keep_core_database_unref (gpointer instance);
GParamSpec* keep_core_param_spec_database (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void keep_core_value_set_database (GValue* value, gpointer v_object);
void keep_core_value_take_database (GValue* value, gpointer v_object);
gpointer keep_core_value_get_database (const GValue* value);
GType keep_core_database_get_type (void) G_GNUC_CONST;
#define KEEP_CORE_DATABASE_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), KEEP_CORE_TYPE_DATABASE, KeepCoreDatabasePrivate))
enum  {
	KEEP_CORE_DATABASE_DUMMY_PROPERTY
};
KeepCoreDatabase* keep_core_database_new (const gchar* path);
KeepCoreDatabase* keep_core_database_construct (GType object_type, const gchar* path);
static void keep_core_database_set_db_path (KeepCoreDatabase* self, const gchar* value);
static void keep_core_database_init_database (KeepCoreDatabase* self);
const gchar* keep_core_database_get_db_path (KeepCoreDatabase* self);
static void keep_core_database_exec_command (KeepCoreDatabase* self, const gchar* command, gboolean print_err);
GType keep_core_note_get_type (void) G_GNUC_CONST;
KeepCoreNote* keep_core_database_new_note (KeepCoreDatabase* self, gboolean sync);
KeepCoreNote* keep_core_note_new (gint id);
KeepCoreNote* keep_core_note_construct (GType object_type, gint id);
void keep_core_database_update_note (KeepCoreDatabase* self, gint id, guint8* content, int content_length1);
gboolean keep_core_database_note_exists (KeepCoreDatabase* self, gint id);
void keep_core_database_load_note (KeepCoreDatabase* self, gint id, KeepCoreNote* note);
KeepCoreNote** keep_core_database_load_all_notes (KeepCoreDatabase* self, int* result_length1);
KeepCoreNote* keep_core_note_new_with_content (gint id, const gchar* title, guint8* content, int content_length1);
KeepCoreNote* keep_core_note_construct_with_content (GType object_type, gint id, const gchar* title, guint8* content, int content_length1);
static void _vala_array_add1 (KeepCoreNote*** array, int* length, int* size, KeepCoreNote* value);
void keep_core_database_delete_note (KeepCoreDatabase* self, KeepCoreNote* note);
gint keep_core_note_get_id (KeepCoreNote* self);
void keep_core_database_reset_database (KeepCoreDatabase* self);
static void keep_core_database_finalize (KeepCoreDatabase* obj);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);


KeepCoreDatabase* keep_core_database_construct (GType object_type, const gchar* path) {
	KeepCoreDatabase* self = NULL;
	const gchar* _tmp0_ = NULL;
#line 48 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_return_val_if_fail (path != NULL, NULL);
#line 48 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	self = (KeepCoreDatabase*) g_type_create_instance (object_type);
#line 49 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp0_ = path;
#line 49 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	keep_core_database_set_db_path (self, _tmp0_);
#line 51 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	keep_core_database_init_database (self);
#line 48 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	return self;
#line 161 "Database.c"
}


KeepCoreDatabase* keep_core_database_new (const gchar* path) {
#line 48 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	return keep_core_database_construct (KEEP_CORE_TYPE_DATABASE, path);
#line 168 "Database.c"
}


static void keep_core_database_init_database (KeepCoreDatabase* self) {
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	gchar* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
#line 54 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_return_if_fail (self != NULL);
#line 55 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp0_ = self->priv->_db_path;
#line 55 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp1_ = g_strdup_printf ("Initializing Database: %s", _tmp0_);
#line 55 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp2_ = _tmp1_;
#line 55 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_message ("Database.vala:55: %s", _tmp2_);
#line 55 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_g_free0 (_tmp2_);
#line 58 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp3_ = keep_core_database_NEW_DATABASE;
#line 58 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	keep_core_database_exec_command (self, _tmp3_, FALSE);
#line 193 "Database.c"
}


KeepCoreNote* keep_core_database_new_note (KeepCoreDatabase* self, gboolean sync) {
	KeepCoreNote* result = NULL;
	gint _tmp0_ = 0;
	gboolean _tmp1_ = FALSE;
	gchar* sql_string = NULL;
	const gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	const gchar* _tmp4_ = NULL;
	sqlite3* db = NULL;
	const gchar* _tmp5_ = NULL;
	sqlite3* _tmp6_ = NULL;
	gint _tmp7_ = 0;
	gint _tmp8_ = 0;
	sqlite3_stmt* q = NULL;
	gint i = 0;
	sqlite3* _tmp12_ = NULL;
	const gchar* _tmp13_ = NULL;
	const gchar* _tmp14_ = NULL;
	gint _tmp15_ = 0;
	gint _tmp16_ = 0;
	sqlite3_stmt* _tmp17_ = NULL;
	gint _tmp18_ = 0;
	gint _tmp19_ = 0;
	gint param_position = 0;
	sqlite3_stmt* _tmp22_ = NULL;
	gint _tmp23_ = 0;
	gint _tmp24_ = 0;
	sqlite3_stmt* _tmp25_ = NULL;
	gint _tmp26_ = 0;
	gint rc = 0;
	sqlite3_stmt* _tmp27_ = NULL;
	gint _tmp28_ = 0;
	gint _tmp29_ = 0;
	sqlite3_stmt* _tmp32_ = NULL;
	sqlite3* _tmp33_ = NULL;
	gint64 _tmp34_ = 0LL;
	gchar* _tmp35_ = NULL;
	gchar* _tmp36_ = NULL;
	sqlite3* _tmp37_ = NULL;
	gint64 _tmp38_ = 0LL;
	KeepCoreNote* _tmp39_ = NULL;
#line 61 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 62 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp1_ = sync;
#line 62 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (_tmp1_) {
#line 62 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp0_ = 1;
#line 246 "Database.c"
	} else {
#line 62 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp0_ = 0;
#line 250 "Database.c"
	}
#line 62 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp2_ = keep_core_database_INSERT_NEW;
#line 62 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp3_ = g_strdup_printf (_tmp2_, _tmp0_);
#line 62 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	sql_string = _tmp3_;
#line 63 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp4_ = sql_string;
#line 63 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_message ("Database.vala:63: %s", _tmp4_);
#line 66 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp5_ = self->priv->_db_path;
#line 66 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp7_ = sqlite3_open (_tmp5_, &_tmp6_);
#line 66 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_close0 (db);
#line 66 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	db = _tmp6_;
#line 66 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	self->priv->err = _tmp7_;
#line 69 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp8_ = self->priv->err;
#line 69 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (_tmp8_ != SQLITE_OK) {
#line 276 "Database.c"
		const gchar* _tmp9_ = NULL;
		gchar* _tmp10_ = NULL;
		gchar* _tmp11_ = NULL;
#line 70 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp9_ = self->priv->_db_path;
#line 70 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp10_ = g_strconcat ("Error opening database: ", _tmp9_, NULL);
#line 70 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp11_ = _tmp10_;
#line 70 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_critical ("Database.vala:70: %s", _tmp11_);
#line 70 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_g_free0 (_tmp11_);
#line 290 "Database.c"
	}
#line 74 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp12_ = db;
#line 74 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp13_ = sql_string;
#line 74 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp14_ = sql_string;
#line 74 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp15_ = strlen (_tmp14_);
#line 74 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp16_ = _tmp15_;
#line 74 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp18_ = sqlite3_prepare_v2 (_tmp12_, _tmp13_, _tmp16_, &_tmp17_, NULL);
#line 74 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_finalize0 (q);
#line 74 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	q = _tmp17_;
#line 74 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	i = _tmp18_;
#line 75 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp19_ = i;
#line 75 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (_tmp19_ != SQLITE_OK) {
#line 314 "Database.c"
		sqlite3* _tmp20_ = NULL;
		const gchar* _tmp21_ = NULL;
#line 76 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp20_ = db;
#line 76 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp21_ = sqlite3_errmsg (_tmp20_);
#line 76 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_critical ("Database.vala:76: %s", _tmp21_);
#line 323 "Database.c"
	}
#line 79 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp22_ = q;
#line 79 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp23_ = sqlite3_bind_parameter_index (_tmp22_, "$CONTENT");
#line 79 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	param_position = _tmp23_;
#line 80 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp24_ = param_position;
#line 80 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_vala_assert (_tmp24_ > 0, "param_position > 0");
#line 82 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp25_ = q;
#line 82 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp26_ = param_position;
#line 82 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	sqlite3_bind_null (_tmp25_, _tmp26_);
#line 84 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp27_ = q;
#line 84 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp28_ = sqlite3_step (_tmp27_);
#line 84 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	rc = _tmp28_;
#line 85 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp29_ = rc;
#line 85 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (_tmp29_ != SQLITE_DONE) {
#line 351 "Database.c"
		sqlite3* _tmp30_ = NULL;
		const gchar* _tmp31_ = NULL;
#line 86 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp30_ = db;
#line 86 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp31_ = sqlite3_errmsg (_tmp30_);
#line 86 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_critical ("Database.vala:86: %s", _tmp31_);
#line 360 "Database.c"
	}
#line 89 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp32_ = q;
#line 89 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	sqlite3_reset (_tmp32_);
#line 91 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp33_ = db;
#line 91 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp34_ = sqlite3_last_insert_rowid (_tmp33_);
#line 91 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp35_ = g_strdup_printf ("%" G_GINT64_FORMAT, _tmp34_);
#line 91 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp36_ = _tmp35_;
#line 91 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_message ("Database.vala:91: %s", _tmp36_);
#line 91 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_g_free0 (_tmp36_);
#line 92 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp37_ = db;
#line 92 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp38_ = sqlite3_last_insert_rowid (_tmp37_);
#line 92 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp39_ = keep_core_note_new ((gint) _tmp38_);
#line 92 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	result = _tmp39_;
#line 92 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_finalize0 (q);
#line 92 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_close0 (db);
#line 92 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_g_free0 (sql_string);
#line 92 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	return result;
#line 394 "Database.c"
}


void keep_core_database_update_note (KeepCoreDatabase* self, gint id, guint8* content, int content_length1) {
	gchar* sql_seq = NULL;
	gint _tmp0_ = 0;
	gchar* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
	sqlite3* db = NULL;
	const gchar* _tmp3_ = NULL;
	sqlite3* _tmp4_ = NULL;
	gint _tmp5_ = 0;
	gint _tmp6_ = 0;
	sqlite3_stmt* q = NULL;
	gint i = 0;
	sqlite3* _tmp10_ = NULL;
	const gchar* _tmp11_ = NULL;
	const gchar* _tmp12_ = NULL;
	gint _tmp13_ = 0;
	gint _tmp14_ = 0;
	sqlite3_stmt* _tmp15_ = NULL;
	gint _tmp16_ = 0;
	gint _tmp17_ = 0;
	gint param_position = 0;
	sqlite3_stmt* _tmp20_ = NULL;
	gint _tmp21_ = 0;
	gint _tmp22_ = 0;
	gchar* _tmp23_ = NULL;
	gchar* _tmp24_ = NULL;
	gint _tmp25_ = 0;
	gint blob_size = 0;
	guint8* _tmp26_ = NULL;
	gint _tmp26__length1 = 0;
	sqlite3_stmt* _tmp28_ = NULL;
	gint _tmp29_ = 0;
	guint8* _tmp30_ = NULL;
	gint _tmp30__length1 = 0;
	gint _tmp31_ = 0;
	gint rc = 0;
	sqlite3_stmt* _tmp32_ = NULL;
	gint _tmp33_ = 0;
	gint _tmp34_ = 0;
	sqlite3_stmt* _tmp37_ = NULL;
#line 95 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_return_if_fail (self != NULL);
#line 96 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp0_ = id;
#line 96 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp1_ = g_strdup_printf ("UPDATE Notes SET content=$BLOB WHERE id=%i;", _tmp0_);
#line 96 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	sql_seq = _tmp1_;
#line 97 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp2_ = sql_seq;
#line 97 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_message ("Database.vala:97: %s", _tmp2_);
#line 100 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp3_ = self->priv->_db_path;
#line 100 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp5_ = sqlite3_open (_tmp3_, &_tmp4_);
#line 100 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_close0 (db);
#line 100 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	db = _tmp4_;
#line 100 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	self->priv->err = _tmp5_;
#line 103 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp6_ = self->priv->err;
#line 103 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (_tmp6_ != SQLITE_OK) {
#line 464 "Database.c"
		const gchar* _tmp7_ = NULL;
		gchar* _tmp8_ = NULL;
		gchar* _tmp9_ = NULL;
#line 104 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp7_ = self->priv->_db_path;
#line 104 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp8_ = g_strconcat ("Error opening database: ", _tmp7_, NULL);
#line 104 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp9_ = _tmp8_;
#line 104 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_critical ("Database.vala:104: %s", _tmp9_);
#line 104 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_g_free0 (_tmp9_);
#line 478 "Database.c"
	}
#line 108 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp10_ = db;
#line 108 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp11_ = sql_seq;
#line 108 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp12_ = sql_seq;
#line 108 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp13_ = strlen (_tmp12_);
#line 108 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp14_ = _tmp13_;
#line 108 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp16_ = sqlite3_prepare_v2 (_tmp10_, _tmp11_, _tmp14_, &_tmp15_, NULL);
#line 108 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_finalize0 (q);
#line 108 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	q = _tmp15_;
#line 108 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	i = _tmp16_;
#line 109 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp17_ = i;
#line 109 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (_tmp17_ != SQLITE_OK) {
#line 502 "Database.c"
		sqlite3* _tmp18_ = NULL;
		const gchar* _tmp19_ = NULL;
#line 110 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp18_ = db;
#line 110 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp19_ = sqlite3_errmsg (_tmp18_);
#line 110 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_critical ("Database.vala:110: %s", _tmp19_);
#line 511 "Database.c"
	}
#line 113 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp20_ = q;
#line 113 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp21_ = sqlite3_bind_parameter_index (_tmp20_, "$BLOB");
#line 113 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	param_position = _tmp21_;
#line 114 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp22_ = param_position;
#line 114 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp23_ = g_strdup_printf ("%i", _tmp22_);
#line 114 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp24_ = _tmp23_;
#line 114 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_message ("Database.vala:114: %s", _tmp24_);
#line 114 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_g_free0 (_tmp24_);
#line 115 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp25_ = param_position;
#line 115 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_vala_assert (_tmp25_ > 0, "param_position > 0");
#line 117 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	blob_size = 0;
#line 118 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp26_ = content;
#line 118 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp26__length1 = content_length1;
#line 539 "Database.c"
	{
		guint8* a_collection = NULL;
		gint a_collection_length1 = 0;
		gint _a_collection_size_ = 0;
		gint a_it = 0;
#line 118 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		a_collection = _tmp26_;
#line 118 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		a_collection_length1 = _tmp26__length1;
#line 118 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		for (a_it = 0; a_it < _tmp26__length1; a_it = a_it + 1) {
#line 551 "Database.c"
			gint a = 0;
#line 118 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
			a = (gint) a_collection[a_it];
#line 555 "Database.c"
			{
				gint _tmp27_ = 0;
#line 119 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
				_tmp27_ = blob_size;
#line 119 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
				blob_size = _tmp27_ + ((gint) sizeof (guint8));
#line 562 "Database.c"
			}
		}
	}
#line 122 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp28_ = q;
#line 122 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp29_ = param_position;
#line 122 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp30_ = content;
#line 122 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp30__length1 = content_length1;
#line 122 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp31_ = blob_size;
#line 122 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	sqlite3_bind_blob (_tmp28_, _tmp29_, _tmp30_, _tmp31_, NULL);
#line 125 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp32_ = q;
#line 125 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp33_ = sqlite3_step (_tmp32_);
#line 125 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	rc = _tmp33_;
#line 126 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp34_ = rc;
#line 126 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (_tmp34_ != SQLITE_DONE) {
#line 588 "Database.c"
		sqlite3* _tmp35_ = NULL;
		const gchar* _tmp36_ = NULL;
#line 127 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp35_ = db;
#line 127 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp36_ = sqlite3_errmsg (_tmp35_);
#line 127 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_critical ("Database.vala:127: %s", _tmp36_);
#line 597 "Database.c"
	}
#line 130 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp37_ = q;
#line 130 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	sqlite3_reset (_tmp37_);
#line 131 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_message ("Database.vala:131: Note Updated");
#line 95 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_finalize0 (q);
#line 95 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_close0 (db);
#line 95 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_g_free0 (sql_seq);
#line 611 "Database.c"
}


gboolean keep_core_database_note_exists (KeepCoreDatabase* self, gint id) {
	gboolean result = FALSE;
	gchar* sql_seq = NULL;
	gint _tmp0_ = 0;
	gchar* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
	sqlite3* db = NULL;
	const gchar* _tmp3_ = NULL;
	sqlite3* _tmp4_ = NULL;
	gint _tmp5_ = 0;
	gint _tmp6_ = 0;
	sqlite3_stmt* s = NULL;
	gint e = 0;
	sqlite3* _tmp10_ = NULL;
	const gchar* _tmp11_ = NULL;
	const gchar* _tmp12_ = NULL;
	gint _tmp13_ = 0;
	gint _tmp14_ = 0;
	sqlite3_stmt* _tmp15_ = NULL;
	gint _tmp16_ = 0;
	gint _tmp17_ = 0;
	sqlite3_stmt* _tmp20_ = NULL;
	gint _tmp21_ = 0;
#line 134 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 135 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp0_ = id;
#line 135 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp1_ = g_strdup_printf ("SELECT id FROM Notes WHERE id = %i;", _tmp0_);
#line 135 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	sql_seq = _tmp1_;
#line 136 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp2_ = sql_seq;
#line 136 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_message ("Database.vala:136: %s", _tmp2_);
#line 139 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp3_ = self->priv->_db_path;
#line 139 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp5_ = sqlite3_open (_tmp3_, &_tmp4_);
#line 139 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_close0 (db);
#line 139 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	db = _tmp4_;
#line 139 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	self->priv->err = _tmp5_;
#line 142 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp6_ = self->priv->err;
#line 142 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (_tmp6_ != SQLITE_OK) {
#line 664 "Database.c"
		const gchar* _tmp7_ = NULL;
		gchar* _tmp8_ = NULL;
		gchar* _tmp9_ = NULL;
#line 143 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp7_ = self->priv->_db_path;
#line 143 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp8_ = g_strconcat ("Error opening database: ", _tmp7_, NULL);
#line 143 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp9_ = _tmp8_;
#line 143 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_critical ("Database.vala:143: %s", _tmp9_);
#line 143 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_g_free0 (_tmp9_);
#line 678 "Database.c"
	}
#line 147 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp10_ = db;
#line 147 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp11_ = sql_seq;
#line 147 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp12_ = sql_seq;
#line 147 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp13_ = strlen (_tmp12_);
#line 147 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp14_ = _tmp13_;
#line 147 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp16_ = sqlite3_prepare_v2 (_tmp10_, _tmp11_, _tmp14_, &_tmp15_, NULL);
#line 147 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_finalize0 (s);
#line 147 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	s = _tmp15_;
#line 147 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	e = _tmp16_;
#line 148 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp17_ = e;
#line 148 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (_tmp17_ != SQLITE_OK) {
#line 702 "Database.c"
		sqlite3* _tmp18_ = NULL;
		const gchar* _tmp19_ = NULL;
#line 149 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp18_ = db;
#line 149 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp19_ = sqlite3_errmsg (_tmp18_);
#line 149 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_critical ("Database.vala:149: %s", _tmp19_);
#line 711 "Database.c"
	}
#line 152 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp20_ = s;
#line 152 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp21_ = sqlite3_step (_tmp20_);
#line 152 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	result = _tmp21_ == SQLITE_ROW;
#line 152 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_finalize0 (s);
#line 152 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_close0 (db);
#line 152 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_g_free0 (sql_seq);
#line 152 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	return result;
#line 727 "Database.c"
}


void keep_core_database_load_note (KeepCoreDatabase* self, gint id, KeepCoreNote* note) {
	gchar* sql_seq = NULL;
	gint _tmp0_ = 0;
	gchar* _tmp1_ = NULL;
	sqlite3* db = NULL;
	const gchar* _tmp2_ = NULL;
	sqlite3* _tmp3_ = NULL;
	gint _tmp4_ = 0;
	gint _tmp5_ = 0;
	sqlite3_stmt* s = NULL;
	gint e = 0;
	sqlite3* _tmp9_ = NULL;
	const gchar* _tmp10_ = NULL;
	const gchar* _tmp11_ = NULL;
	gint _tmp12_ = 0;
	gint _tmp13_ = 0;
	sqlite3_stmt* _tmp14_ = NULL;
	gint _tmp15_ = 0;
	gint _tmp16_ = 0;
	GtkTextIter start = {0};
	GtkTextIter end = {0};
	KeepCoreNote* _tmp19_ = NULL;
	GtkTextIter _tmp20_ = {0};
	GtkTextIter _tmp21_ = {0};
	KeepCoreNote* _tmp22_ = NULL;
	GtkTextIter _tmp23_ = {0};
	GtkTextIter _tmp24_ = {0};
	KeepCoreNote* _tmp25_ = NULL;
	GtkTextIter _tmp26_ = {0};
	sqlite3_stmt* _tmp27_ = NULL;
	GError * _inner_error_ = NULL;
#line 155 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_return_if_fail (self != NULL);
#line 155 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_return_if_fail (note != NULL);
#line 156 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp0_ = id;
#line 156 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp1_ = g_strdup_printf ("SELECT content FROM Notes WHERE id = %i;", _tmp0_);
#line 156 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	sql_seq = _tmp1_;
#line 160 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp2_ = self->priv->_db_path;
#line 160 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp4_ = sqlite3_open (_tmp2_, &_tmp3_);
#line 160 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_close0 (db);
#line 160 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	db = _tmp3_;
#line 160 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	self->priv->err = _tmp4_;
#line 163 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp5_ = self->priv->err;
#line 163 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (_tmp5_ != SQLITE_OK) {
#line 786 "Database.c"
		const gchar* _tmp6_ = NULL;
		gchar* _tmp7_ = NULL;
		gchar* _tmp8_ = NULL;
#line 164 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp6_ = self->priv->_db_path;
#line 164 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp7_ = g_strconcat ("Error opening database: ", _tmp6_, NULL);
#line 164 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp8_ = _tmp7_;
#line 164 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_critical ("Database.vala:164: %s", _tmp8_);
#line 164 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_g_free0 (_tmp8_);
#line 800 "Database.c"
	}
#line 168 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp9_ = db;
#line 168 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp10_ = sql_seq;
#line 168 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp11_ = sql_seq;
#line 168 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp12_ = strlen (_tmp11_);
#line 168 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp13_ = _tmp12_;
#line 168 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp15_ = sqlite3_prepare_v2 (_tmp9_, _tmp10_, _tmp13_, &_tmp14_, NULL);
#line 168 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_finalize0 (s);
#line 168 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	s = _tmp14_;
#line 168 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	e = _tmp15_;
#line 169 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp16_ = e;
#line 169 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (_tmp16_ != SQLITE_OK) {
#line 824 "Database.c"
		sqlite3* _tmp17_ = NULL;
		const gchar* _tmp18_ = NULL;
#line 170 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp17_ = db;
#line 170 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp18_ = sqlite3_errmsg (_tmp17_);
#line 170 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_critical ("Database.vala:170: %s", _tmp18_);
#line 833 "Database.c"
	}
#line 177 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp19_ = note;
#line 177 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	gtk_text_buffer_get_bounds ((GtkTextBuffer*) _tmp19_, &_tmp20_, &_tmp21_);
#line 177 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	start = _tmp20_;
#line 177 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	end = _tmp21_;
#line 178 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp22_ = note;
#line 178 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp23_ = start;
#line 178 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp24_ = end;
#line 178 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_signal_emit_by_name ((GtkTextBuffer*) _tmp22_, "delete-range", &_tmp23_, &_tmp24_);
#line 180 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp25_ = note;
#line 180 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	gtk_text_buffer_get_start_iter ((GtkTextBuffer*) _tmp25_, &_tmp26_);
#line 180 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	start = _tmp26_;
#line 182 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp27_ = s;
#line 182 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	sqlite3_step (_tmp27_);
#line 861 "Database.c"
	{
		guint8* content = NULL;
		sqlite3_stmt* _tmp28_ = NULL;
		void* _tmp29_ = NULL;
		gint content_length1 = 0;
		gint _content_size_ = 0;
		sqlite3_stmt* _tmp30_ = NULL;
		gint _tmp31_ = 0;
		gint _tmp32_ = 0;
		KeepCoreNote* _tmp33_ = NULL;
		KeepCoreNote* _tmp34_ = NULL;
		KeepCoreNote* _tmp35_ = NULL;
		KeepCoreNote* _tmp36_ = NULL;
		GdkAtom _tmp37_ = 0U;
		GtkTextIter _tmp38_ = {0};
		KeepCoreNote* _tmp39_ = NULL;
#line 184 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp28_ = s;
#line 184 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp29_ = sqlite3_column_blob (_tmp28_, 0);
#line 184 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		content = (guint8*) _tmp29_;
#line 184 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		content_length1 = -1;
#line 184 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_content_size_ = content_length1;
#line 185 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp30_ = s;
#line 185 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp31_ = sqlite3_column_bytes (_tmp30_, 0);
#line 185 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		content_length1 = _tmp31_;
#line 185 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp32_ = content_length1;
#line 187 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp33_ = note;
#line 187 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		gtk_source_buffer_begin_not_undoable_action ((GtkSourceBuffer*) _tmp33_);
#line 188 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_message ("Database.vala:188: Database");
#line 189 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp34_ = note;
#line 189 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp35_ = note;
#line 189 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp36_ = note;
#line 189 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp37_ = _tmp36_->deformat;
#line 189 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp38_ = start;
#line 189 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		gtk_text_buffer_deserialize ((GtkTextBuffer*) _tmp34_, (GtkTextBuffer*) _tmp35_, _tmp37_, &_tmp38_, content, (gsize) content_length1, &_inner_error_);
#line 189 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 916 "Database.c"
			goto __catch0_g_error;
		}
#line 190 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp39_ = note;
#line 190 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		gtk_source_buffer_end_not_undoable_action ((GtkSourceBuffer*) _tmp39_);
#line 923 "Database.c"
	}
	goto __finally0;
	__catch0_g_error:
	{
		GError* e = NULL;
		GError* _tmp40_ = NULL;
		const gchar* _tmp41_ = NULL;
#line 183 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		e = _inner_error_;
#line 183 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_inner_error_ = NULL;
#line 193 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp40_ = e;
#line 193 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp41_ = _tmp40_->message;
#line 193 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_critical ("Database.vala:193: %s", _tmp41_);
#line 183 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_g_error_free0 (e);
#line 943 "Database.c"
	}
	__finally0:
#line 183 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 183 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_sqlite3_finalize0 (s);
#line 183 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_sqlite3_close0 (db);
#line 183 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_g_free0 (sql_seq);
#line 183 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 183 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_clear_error (&_inner_error_);
#line 183 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		return;
#line 960 "Database.c"
	}
#line 196 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_message ("Database.vala:196: Note Loaded");
#line 155 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_finalize0 (s);
#line 155 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_close0 (db);
#line 155 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_g_free0 (sql_seq);
#line 970 "Database.c"
}


static gpointer _g_object_ref0 (gpointer self) {
#line 230 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	return self ? g_object_ref (self) : NULL;
#line 977 "Database.c"
}


static void _vala_array_add1 (KeepCoreNote*** array, int* length, int* size, KeepCoreNote* value) {
#line 230 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if ((*length) == (*size)) {
#line 230 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		*size = (*size) ? (2 * (*size)) : 4;
#line 230 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		*array = g_renew (KeepCoreNote*, *array, (*size) + 1);
#line 988 "Database.c"
	}
#line 230 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	(*array)[(*length)++] = value;
#line 230 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	(*array)[*length] = NULL;
#line 994 "Database.c"
}


KeepCoreNote** keep_core_database_load_all_notes (KeepCoreDatabase* self, int* result_length1) {
	KeepCoreNote** result = NULL;
	KeepCoreNote** notes = NULL;
	KeepCoreNote** _tmp0_ = NULL;
	gint notes_length1 = 0;
	gint _notes_size_ = 0;
	gchar* sql_seq = NULL;
	gchar* _tmp1_ = NULL;
	sqlite3* db = NULL;
	const gchar* _tmp2_ = NULL;
	sqlite3* _tmp3_ = NULL;
	gint _tmp4_ = 0;
	gint _tmp5_ = 0;
	sqlite3_stmt* s = NULL;
	gint e = 0;
	sqlite3* _tmp9_ = NULL;
	const gchar* _tmp10_ = NULL;
	const gchar* _tmp11_ = NULL;
	gint _tmp12_ = 0;
	gint _tmp13_ = 0;
	sqlite3_stmt* _tmp14_ = NULL;
	gint _tmp15_ = 0;
	gint _tmp16_ = 0;
	KeepCoreNote** _tmp42_ = NULL;
	gint _tmp42__length1 = 0;
#line 199 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 200 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp0_ = g_new0 (KeepCoreNote*, 0 + 1);
#line 200 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	notes = _tmp0_;
#line 200 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	notes_length1 = 0;
#line 200 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_notes_size_ = notes_length1;
#line 202 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp1_ = g_strdup ("SELECT * FROM Notes;");
#line 202 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	sql_seq = _tmp1_;
#line 206 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp2_ = self->priv->_db_path;
#line 206 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp4_ = sqlite3_open (_tmp2_, &_tmp3_);
#line 206 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_close0 (db);
#line 206 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	db = _tmp3_;
#line 206 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	self->priv->err = _tmp4_;
#line 209 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp5_ = self->priv->err;
#line 209 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (_tmp5_ != SQLITE_OK) {
#line 1051 "Database.c"
		const gchar* _tmp6_ = NULL;
		gchar* _tmp7_ = NULL;
		gchar* _tmp8_ = NULL;
#line 210 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp6_ = self->priv->_db_path;
#line 210 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp7_ = g_strconcat ("Error opening database: ", _tmp6_, NULL);
#line 210 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp8_ = _tmp7_;
#line 210 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_critical ("Database.vala:210: %s", _tmp8_);
#line 210 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_g_free0 (_tmp8_);
#line 1065 "Database.c"
	}
#line 214 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp9_ = db;
#line 214 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp10_ = sql_seq;
#line 214 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp11_ = sql_seq;
#line 214 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp12_ = strlen (_tmp11_);
#line 214 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp13_ = _tmp12_;
#line 214 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp15_ = sqlite3_prepare_v2 (_tmp9_, _tmp10_, _tmp13_, &_tmp14_, NULL);
#line 214 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_finalize0 (s);
#line 214 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	s = _tmp14_;
#line 214 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	e = _tmp15_;
#line 215 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp16_ = e;
#line 215 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (_tmp16_ != SQLITE_OK) {
#line 1089 "Database.c"
		sqlite3* _tmp17_ = NULL;
		const gchar* _tmp18_ = NULL;
#line 216 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp17_ = db;
#line 216 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp18_ = sqlite3_errmsg (_tmp17_);
#line 216 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_critical ("Database.vala:216: %s", _tmp18_);
#line 1098 "Database.c"
	}
#line 220 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	while (TRUE) {
#line 1102 "Database.c"
		sqlite3_stmt* _tmp19_ = NULL;
		gint _tmp20_ = 0;
		gint id = 0;
		sqlite3_stmt* _tmp21_ = NULL;
		gint _tmp22_ = 0;
		gchar* title = NULL;
		sqlite3_stmt* _tmp23_ = NULL;
		const gchar* _tmp24_ = NULL;
		gchar* _tmp25_ = NULL;
		guint8* content = NULL;
		sqlite3_stmt* _tmp26_ = NULL;
		void* _tmp27_ = NULL;
		gint content_length1 = 0;
		gint _content_size_ = 0;
		sqlite3_stmt* _tmp28_ = NULL;
		gint _tmp29_ = 0;
		gint _tmp30_ = 0;
		gint _tmp31_ = 0;
		const gchar* _tmp32_ = NULL;
		gchar* _tmp33_ = NULL;
		gchar* _tmp34_ = NULL;
		KeepCoreNote* n = NULL;
		gint _tmp35_ = 0;
		const gchar* _tmp36_ = NULL;
		guint8* _tmp37_ = NULL;
		gint _tmp37__length1 = 0;
		KeepCoreNote* _tmp38_ = NULL;
		KeepCoreNote** _tmp39_ = NULL;
		gint _tmp39__length1 = 0;
		KeepCoreNote* _tmp40_ = NULL;
		KeepCoreNote* _tmp41_ = NULL;
#line 220 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp19_ = s;
#line 220 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp20_ = sqlite3_step (_tmp19_);
#line 220 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		if (!(_tmp20_ == SQLITE_ROW)) {
#line 220 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
			break;
#line 1142 "Database.c"
		}
#line 222 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp21_ = s;
#line 222 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp22_ = sqlite3_column_int (_tmp21_, 0);
#line 222 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		id = _tmp22_;
#line 223 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp23_ = s;
#line 223 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp24_ = sqlite3_column_text (_tmp23_, 2);
#line 223 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp25_ = g_strdup (_tmp24_);
#line 223 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		title = _tmp25_;
#line 225 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp26_ = s;
#line 225 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp27_ = sqlite3_column_blob (_tmp26_, 3);
#line 225 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		content = (guint8*) _tmp27_;
#line 225 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		content_length1 = -1;
#line 225 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_content_size_ = content_length1;
#line 226 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp28_ = s;
#line 226 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp29_ = sqlite3_column_bytes (_tmp28_, 3);
#line 226 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		content_length1 = _tmp29_;
#line 226 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp30_ = content_length1;
#line 228 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp31_ = id;
#line 228 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp32_ = title;
#line 228 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp33_ = g_strdup_printf ("%i %s", _tmp31_, _tmp32_);
#line 228 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp34_ = _tmp33_;
#line 228 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_message ("Database.vala:228: %s", _tmp34_);
#line 228 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_g_free0 (_tmp34_);
#line 229 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp35_ = id;
#line 229 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp36_ = title;
#line 229 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp37_ = content;
#line 229 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp37__length1 = content_length1;
#line 229 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp38_ = keep_core_note_new_with_content (_tmp35_, _tmp36_, _tmp37_, _tmp37__length1);
#line 229 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		n = _tmp38_;
#line 230 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp39_ = notes;
#line 230 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp39__length1 = notes_length1;
#line 230 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp40_ = n;
#line 230 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp41_ = _g_object_ref0 (_tmp40_);
#line 230 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_vala_array_add1 (&notes, &notes_length1, &_notes_size_, _tmp41_);
#line 220 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_g_object_unref0 (n);
#line 220 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_g_free0 (title);
#line 1214 "Database.c"
	}
#line 233 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp42_ = notes;
#line 233 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp42__length1 = notes_length1;
#line 233 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (result_length1) {
#line 233 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		*result_length1 = _tmp42__length1;
#line 1224 "Database.c"
	}
#line 233 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	result = _tmp42_;
#line 233 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_finalize0 (s);
#line 233 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_close0 (db);
#line 233 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_g_free0 (sql_seq);
#line 233 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	return result;
#line 1236 "Database.c"
}


void keep_core_database_delete_note (KeepCoreDatabase* self, KeepCoreNote* note) {
	gchar* sql_seq = NULL;
	KeepCoreNote* _tmp0_ = NULL;
	gint _tmp1_ = 0;
	gchar* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
	sqlite3* db = NULL;
	const gchar* _tmp4_ = NULL;
	sqlite3* _tmp5_ = NULL;
	gint _tmp6_ = 0;
	gint _tmp7_ = 0;
	sqlite3_stmt* s = NULL;
	gint e = 0;
	sqlite3* _tmp11_ = NULL;
	const gchar* _tmp12_ = NULL;
	const gchar* _tmp13_ = NULL;
	gint _tmp14_ = 0;
	gint _tmp15_ = 0;
	sqlite3_stmt* _tmp16_ = NULL;
	gint _tmp17_ = 0;
	gint _tmp18_ = 0;
	sqlite3_stmt* _tmp21_ = NULL;
#line 236 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_return_if_fail (self != NULL);
#line 236 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_return_if_fail (note != NULL);
#line 237 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp0_ = note;
#line 237 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp1_ = keep_core_note_get_id (_tmp0_);
#line 237 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp2_ = g_strdup_printf ("DELETE FROM Notes WHERE id = %i", _tmp1_);
#line 237 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	sql_seq = _tmp2_;
#line 238 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp3_ = sql_seq;
#line 238 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_message ("Database.vala:238: %s", _tmp3_);
#line 241 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp4_ = self->priv->_db_path;
#line 241 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp6_ = sqlite3_open (_tmp4_, &_tmp5_);
#line 241 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_close0 (db);
#line 241 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	db = _tmp5_;
#line 241 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	self->priv->err = _tmp6_;
#line 244 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp7_ = self->priv->err;
#line 244 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (_tmp7_ != SQLITE_OK) {
#line 1292 "Database.c"
		const gchar* _tmp8_ = NULL;
		gchar* _tmp9_ = NULL;
		gchar* _tmp10_ = NULL;
#line 245 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp8_ = self->priv->_db_path;
#line 245 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp9_ = g_strconcat ("Error opening database: ", _tmp8_, NULL);
#line 245 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp10_ = _tmp9_;
#line 245 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_critical ("Database.vala:245: %s", _tmp10_);
#line 245 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_g_free0 (_tmp10_);
#line 1306 "Database.c"
	}
#line 249 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp11_ = db;
#line 249 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp12_ = sql_seq;
#line 249 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp13_ = sql_seq;
#line 249 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp14_ = strlen (_tmp13_);
#line 249 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp15_ = _tmp14_;
#line 249 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp17_ = sqlite3_prepare_v2 (_tmp11_, _tmp12_, _tmp15_, &_tmp16_, NULL);
#line 249 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_finalize0 (s);
#line 249 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	s = _tmp16_;
#line 249 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	e = _tmp17_;
#line 250 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp18_ = e;
#line 250 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (_tmp18_ != SQLITE_OK) {
#line 1330 "Database.c"
		sqlite3* _tmp19_ = NULL;
		const gchar* _tmp20_ = NULL;
#line 251 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp19_ = db;
#line 251 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp20_ = sqlite3_errmsg (_tmp19_);
#line 251 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_critical ("Database.vala:251: %s", _tmp20_);
#line 1339 "Database.c"
	}
#line 254 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp21_ = s;
#line 254 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	sqlite3_step (_tmp21_);
#line 236 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_finalize0 (s);
#line 236 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_close0 (db);
#line 236 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_g_free0 (sql_seq);
#line 1351 "Database.c"
}


void keep_core_database_reset_database (KeepCoreDatabase* self) {
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	gchar* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
	const gchar* _tmp4_ = NULL;
#line 257 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_return_if_fail (self != NULL);
#line 258 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp0_ = self->priv->_db_path;
#line 258 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp1_ = g_strdup_printf ("Reseting Database: %s", _tmp0_);
#line 258 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp2_ = _tmp1_;
#line 258 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_message ("Database.vala:258: %s", _tmp2_);
#line 258 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_g_free0 (_tmp2_);
#line 260 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp3_ = keep_core_database_RESET_DATABASE;
#line 260 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	keep_core_database_exec_command (self, _tmp3_, FALSE);
#line 261 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp4_ = keep_core_database_NEW_DATABASE;
#line 261 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	keep_core_database_exec_command (self, _tmp4_, FALSE);
#line 1381 "Database.c"
}


static gint _sqlite3_exec (sqlite3* self, const gchar* sql, sqlite3_callback callback, void* callback_target, gchar** errmsg) {
	gchar* _vala_errmsg = NULL;
	gint result = 0;
	const gchar* sqlite_errmsg = NULL;
	gint ec = 0;
	const gchar* _tmp0_ = NULL;
	sqlite3_callback _tmp1_ = NULL;
	void* _tmp1__target = NULL;
	const gchar* _tmp2_ = NULL;
	gint _tmp3_ = 0;
	const gchar* _tmp6_ = NULL;
#line 34 "/usr/share/vala-0.28/vapi/sqlite3.vapi"
	g_return_val_if_fail (self != NULL, 0);
#line 34 "/usr/share/vala-0.28/vapi/sqlite3.vapi"
	g_return_val_if_fail (sql != NULL, 0);
#line 36 "/usr/share/vala-0.28/vapi/sqlite3.vapi"
	_tmp0_ = sql;
#line 36 "/usr/share/vala-0.28/vapi/sqlite3.vapi"
	_tmp1_ = callback;
#line 36 "/usr/share/vala-0.28/vapi/sqlite3.vapi"
	_tmp1__target = callback_target;
#line 36 "/usr/share/vala-0.28/vapi/sqlite3.vapi"
	_tmp3_ = sqlite3_exec (self, _tmp0_, _tmp1_, _tmp1__target, (char**) (&_tmp2_));
#line 36 "/usr/share/vala-0.28/vapi/sqlite3.vapi"
	sqlite_errmsg = _tmp2_;
#line 36 "/usr/share/vala-0.28/vapi/sqlite3.vapi"
	ec = _tmp3_;
#line 37 "/usr/share/vala-0.28/vapi/sqlite3.vapi"
	if ((&_vala_errmsg) != NULL) {
#line 1414 "Database.c"
		const gchar* _tmp4_ = NULL;
		gchar* _tmp5_ = NULL;
#line 38 "/usr/share/vala-0.28/vapi/sqlite3.vapi"
		_tmp4_ = sqlite_errmsg;
#line 38 "/usr/share/vala-0.28/vapi/sqlite3.vapi"
		_tmp5_ = g_strdup (_tmp4_);
#line 38 "/usr/share/vala-0.28/vapi/sqlite3.vapi"
		_g_free0 (_vala_errmsg);
#line 38 "/usr/share/vala-0.28/vapi/sqlite3.vapi"
		_vala_errmsg = _tmp5_;
#line 1425 "Database.c"
	}
#line 40 "/usr/share/vala-0.28/vapi/sqlite3.vapi"
	_tmp6_ = sqlite_errmsg;
#line 40 "/usr/share/vala-0.28/vapi/sqlite3.vapi"
	sqlite3_free ((void*) _tmp6_);
#line 41 "/usr/share/vala-0.28/vapi/sqlite3.vapi"
	result = ec;
#line 41 "/usr/share/vala-0.28/vapi/sqlite3.vapi"
	if (errmsg) {
#line 41 "/usr/share/vala-0.28/vapi/sqlite3.vapi"
		*errmsg = _vala_errmsg;
#line 1437 "Database.c"
	} else {
#line 41 "/usr/share/vala-0.28/vapi/sqlite3.vapi"
		_g_free0 (_vala_errmsg);
#line 1441 "Database.c"
	}
#line 41 "/usr/share/vala-0.28/vapi/sqlite3.vapi"
	return result;
#line 1445 "Database.c"
}


static void keep_core_database_exec_command (KeepCoreDatabase* self, const gchar* command, gboolean print_err) {
	sqlite3* db = NULL;
	const gchar* _tmp0_ = NULL;
	sqlite3* _tmp1_ = NULL;
	gint _tmp2_ = 0;
	gint _tmp3_ = 0;
	sqlite3* _tmp7_ = NULL;
	const gchar* _tmp8_ = NULL;
	gchar* _tmp9_ = NULL;
	gint _tmp10_ = 0;
	gboolean _tmp11_ = FALSE;
	gboolean _tmp12_ = FALSE;
#line 264 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_return_if_fail (self != NULL);
#line 264 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_return_if_fail (command != NULL);
#line 266 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp0_ = self->priv->_db_path;
#line 266 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp2_ = sqlite3_open (_tmp0_, &_tmp1_);
#line 266 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_close0 (db);
#line 266 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	db = _tmp1_;
#line 266 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	self->priv->err = _tmp2_;
#line 269 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp3_ = self->priv->err;
#line 269 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (_tmp3_ != SQLITE_OK) {
#line 1479 "Database.c"
		const gchar* _tmp4_ = NULL;
		gchar* _tmp5_ = NULL;
		gchar* _tmp6_ = NULL;
#line 270 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp4_ = self->priv->_db_path;
#line 270 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp5_ = g_strconcat ("Error opening database: ", _tmp4_, NULL);
#line 270 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp6_ = _tmp5_;
#line 270 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_critical ("Database.vala:270: %s", _tmp6_);
#line 270 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_g_free0 (_tmp6_);
#line 1493 "Database.c"
	}
#line 274 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp7_ = db;
#line 274 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp8_ = command;
#line 274 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp10_ = _sqlite3_exec (_tmp7_, _tmp8_, NULL, NULL, &_tmp9_);
#line 274 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_g_free0 (self->priv->errmsg);
#line 274 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	self->priv->errmsg = _tmp9_;
#line 274 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	self->priv->err = _tmp10_;
#line 275 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp12_ = print_err;
#line 275 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (_tmp12_) {
#line 1511 "Database.c"
		gint _tmp13_ = 0;
#line 275 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp13_ = self->priv->err;
#line 275 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp11_ = _tmp13_ != SQLITE_OK;
#line 1517 "Database.c"
	} else {
#line 275 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp11_ = FALSE;
#line 1521 "Database.c"
	}
#line 275 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (_tmp11_) {
#line 1525 "Database.c"
		const gchar* _tmp14_ = NULL;
#line 276 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		_tmp14_ = self->priv->errmsg;
#line 276 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_critical ("Database.vala:276: %s", _tmp14_);
#line 1531 "Database.c"
	}
#line 264 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_sqlite3_close0 (db);
#line 1535 "Database.c"
}


const gchar* keep_core_database_get_db_path (KeepCoreDatabase* self) {
	const gchar* result;
	const gchar* _tmp0_ = NULL;
#line 42 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 42 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp0_ = self->priv->_db_path;
#line 42 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	result = _tmp0_;
#line 42 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	return result;
#line 1550 "Database.c"
}


static void keep_core_database_set_db_path (KeepCoreDatabase* self, const gchar* value) {
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
#line 42 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_return_if_fail (self != NULL);
#line 42 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp0_ = value;
#line 42 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 42 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_g_free0 (self->priv->_db_path);
#line 42 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	self->priv->_db_path = _tmp1_;
#line 1567 "Database.c"
}


static void keep_core_value_database_init (GValue* value) {
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	value->data[0].v_pointer = NULL;
#line 1574 "Database.c"
}


static void keep_core_value_database_free_value (GValue* value) {
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (value->data[0].v_pointer) {
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		keep_core_database_unref (value->data[0].v_pointer);
#line 1583 "Database.c"
	}
}


static void keep_core_value_database_copy_value (const GValue* src_value, GValue* dest_value) {
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (src_value->data[0].v_pointer) {
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		dest_value->data[0].v_pointer = keep_core_database_ref (src_value->data[0].v_pointer);
#line 1593 "Database.c"
	} else {
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		dest_value->data[0].v_pointer = NULL;
#line 1597 "Database.c"
	}
}


static gpointer keep_core_value_database_peek_pointer (const GValue* value) {
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	return value->data[0].v_pointer;
#line 1605 "Database.c"
}


static gchar* keep_core_value_database_collect_value (GValue* value, guint n_collect_values, GTypeCValue* collect_values, guint collect_flags) {
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (collect_values[0].v_pointer) {
#line 1612 "Database.c"
		KeepCoreDatabase* object;
		object = collect_values[0].v_pointer;
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		if (object->parent_instance.g_class == NULL) {
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
			return g_strconcat ("invalid unclassed object pointer for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 1619 "Database.c"
		} else if (!g_value_type_compatible (G_TYPE_FROM_INSTANCE (object), G_VALUE_TYPE (value))) {
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
			return g_strconcat ("invalid object type `", g_type_name (G_TYPE_FROM_INSTANCE (object)), "' for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 1623 "Database.c"
		}
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		value->data[0].v_pointer = keep_core_database_ref (object);
#line 1627 "Database.c"
	} else {
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		value->data[0].v_pointer = NULL;
#line 1631 "Database.c"
	}
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	return NULL;
#line 1635 "Database.c"
}


static gchar* keep_core_value_database_lcopy_value (const GValue* value, guint n_collect_values, GTypeCValue* collect_values, guint collect_flags) {
	KeepCoreDatabase** object_p;
	object_p = collect_values[0].v_pointer;
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (!object_p) {
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		return g_strdup_printf ("value location for `%s' passed as NULL", G_VALUE_TYPE_NAME (value));
#line 1646 "Database.c"
	}
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (!value->data[0].v_pointer) {
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		*object_p = NULL;
#line 1652 "Database.c"
	} else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) {
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		*object_p = value->data[0].v_pointer;
#line 1656 "Database.c"
	} else {
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		*object_p = keep_core_database_ref (value->data[0].v_pointer);
#line 1660 "Database.c"
	}
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	return NULL;
#line 1664 "Database.c"
}


GParamSpec* keep_core_param_spec_database (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags) {
	KeepCoreParamSpecDatabase* spec;
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_return_val_if_fail (g_type_is_a (object_type, KEEP_CORE_TYPE_DATABASE), NULL);
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	spec = g_param_spec_internal (G_TYPE_PARAM_OBJECT, name, nick, blurb, flags);
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	G_PARAM_SPEC (spec)->value_type = object_type;
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	return G_PARAM_SPEC (spec);
#line 1678 "Database.c"
}


gpointer keep_core_value_get_database (const GValue* value) {
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_return_val_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, KEEP_CORE_TYPE_DATABASE), NULL);
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	return value->data[0].v_pointer;
#line 1687 "Database.c"
}


void keep_core_value_set_database (GValue* value, gpointer v_object) {
	KeepCoreDatabase* old;
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, KEEP_CORE_TYPE_DATABASE));
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	old = value->data[0].v_pointer;
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (v_object) {
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, KEEP_CORE_TYPE_DATABASE));
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		value->data[0].v_pointer = v_object;
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		keep_core_database_ref (value->data[0].v_pointer);
#line 1707 "Database.c"
	} else {
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		value->data[0].v_pointer = NULL;
#line 1711 "Database.c"
	}
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (old) {
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		keep_core_database_unref (old);
#line 1717 "Database.c"
	}
}


void keep_core_value_take_database (GValue* value, gpointer v_object) {
	KeepCoreDatabase* old;
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, KEEP_CORE_TYPE_DATABASE));
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	old = value->data[0].v_pointer;
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (v_object) {
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, KEEP_CORE_TYPE_DATABASE));
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		value->data[0].v_pointer = v_object;
#line 1736 "Database.c"
	} else {
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		value->data[0].v_pointer = NULL;
#line 1740 "Database.c"
	}
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (old) {
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		keep_core_database_unref (old);
#line 1746 "Database.c"
	}
}


static void keep_core_database_class_init (KeepCoreDatabaseClass * klass) {
	gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	gchar* _tmp2_ = NULL;
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	keep_core_database_parent_class = g_type_class_peek_parent (klass);
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	((KeepCoreDatabaseClass *) klass)->finalize = keep_core_database_finalize;
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_type_class_add_private (klass, sizeof (KeepCoreDatabasePrivate));
#line 26 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp0_ = g_strdup ("\n" \
"        CREATE TABLE Notes (\n" \
"            id      INTEGER PRIMARY KEY AUTOINCREMENT,\n" \
"\t\t\ttime    TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n" \
"\t\t\ttitle   TEXT                                NOT NULL,\n" \
"            content BLOB                                ,\n" \
"            sync    INTEGER                             NOT NULL\n" \
"\t\t);\n" \
"        ");
#line 26 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	keep_core_database_NEW_DATABASE = _tmp0_;
#line 36 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp1_ = g_strdup ("INSERT INTO Notes (title, content, sync) VALUES ('Untitled', $CONTENT," \
" %i);");
#line 36 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	keep_core_database_INSERT_NEW = _tmp1_;
#line 38 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_tmp2_ = g_strdup ("\n        DROP TABLE Notes;\n        ");
#line 38 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	keep_core_database_RESET_DATABASE = _tmp2_;
#line 1773 "Database.c"
}


static void keep_core_database_instance_init (KeepCoreDatabase * self) {
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	self->priv = KEEP_CORE_DATABASE_GET_PRIVATE (self);
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	self->ref_count = 1;
#line 1782 "Database.c"
}


static void keep_core_database_finalize (KeepCoreDatabase* obj) {
	KeepCoreDatabase * self;
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, KEEP_CORE_TYPE_DATABASE, KeepCoreDatabase);
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_signal_handlers_destroy (self);
#line 42 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_g_free0 (self->priv->_db_path);
#line 46 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	_g_free0 (self->priv->errmsg);
#line 1796 "Database.c"
}


GType keep_core_database_get_type (void) {
	static volatile gsize keep_core_database_type_id__volatile = 0;
	if (g_once_init_enter (&keep_core_database_type_id__volatile)) {
		static const GTypeValueTable g_define_type_value_table = { keep_core_value_database_init, keep_core_value_database_free_value, keep_core_value_database_copy_value, keep_core_value_database_peek_pointer, "p", keep_core_value_database_collect_value, "p", keep_core_value_database_lcopy_value };
		static const GTypeInfo g_define_type_info = { sizeof (KeepCoreDatabaseClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) keep_core_database_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (KeepCoreDatabase), 0, (GInstanceInitFunc) keep_core_database_instance_init, &g_define_type_value_table };
		static const GTypeFundamentalInfo g_define_type_fundamental_info = { (G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_INSTANTIATABLE | G_TYPE_FLAG_DERIVABLE | G_TYPE_FLAG_DEEP_DERIVABLE) };
		GType keep_core_database_type_id;
		keep_core_database_type_id = g_type_register_fundamental (g_type_fundamental_next (), "KeepCoreDatabase", &g_define_type_info, &g_define_type_fundamental_info, 0);
		g_once_init_leave (&keep_core_database_type_id__volatile, keep_core_database_type_id);
	}
	return keep_core_database_type_id__volatile;
}


gpointer keep_core_database_ref (gpointer instance) {
	KeepCoreDatabase* self;
	self = instance;
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	g_atomic_int_inc (&self->ref_count);
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	return instance;
#line 1821 "Database.c"
}


void keep_core_database_unref (gpointer instance) {
	KeepCoreDatabase* self;
	self = instance;
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
	if (g_atomic_int_dec_and_test (&self->ref_count)) {
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		KEEP_CORE_DATABASE_GET_CLASS (self)->finalize (self);
#line 24 "/home/samthomas/Development/Vala/Keep/src/Core/Database.vala"
		g_type_free_instance ((GTypeInstance *) self);
#line 1834 "Database.c"
	}
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}



